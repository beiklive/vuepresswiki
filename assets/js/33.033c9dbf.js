(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{358:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("前一篇")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/Note_Godot/03.着色器学习（零）-基础简介.html"}},[s._v("03.着色器学习（零）-基础简介")])],1)]),s._v(" "),t("p",[s._v("参考地址：https://docs.godotengine.org/en/4.1/tutorials/shaders/shader_reference/shading_language.html")]),s._v(" "),t("h2",{attrs:{id:"术语"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#术语"}},[s._v("#")]),s._v(" 术语")]),s._v(" "),t("h3",{attrs:{id:"插值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插值"}},[s._v("#")]),s._v(" 插值")]),s._v(" "),t("p",[s._v("在数学和计算机图形学中，插值是指在已知数值点的基础上，通过某种算法推算出在两个已知点之间的数值。在上下文中，插值通常用于平滑地估算或推断在两个已知点之间的值，以便在整个区域内获得更连续的过渡。")]),s._v(" "),t("p",[s._v("在图形渲染中，特别是在顶点着色器和片段着色器之间，插值通常用于在图元表面上平滑地传递数据。这可以让我们在顶点处定义的值（比如颜色、法线、纹理坐标等）在图元的表面上自动过渡和插值，从而在片段着色器中使用。")]),s._v(" "),t("p",[s._v("例如，如果你在一个三角形的三个顶点上定义了一个颜色，图形渲染管道将在这些顶点之间插值这些颜色值，以便在三角形的内部每个像素都有一个平滑的颜色过渡。这样的插值确保了渲染结果在图形表面上看起来更加自然和连续。")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"预处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#预处理"}},[s._v("#")]),s._v(" 预处理")]),s._v(" "),t("p",[s._v("在Godot中，Shader预处理语法与大多数GLSL着色器编译器支持的语法相似。以下是一些常见的Shader预处理指令及其示例：")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("定义常量：")])])]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("define")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token macro-name"}},[s._v("PI")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.14159265359")])])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("使用常量：")]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("float")]),s._v(" radius "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PI "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[t("strong",[s._v("条件编译：")])])]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("ifdef")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("ENABLE_FEATURE")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 执行某些代码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("endif")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"3"}},[t("li",[t("strong",[s._v("条件不成立时执行：")])])]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("ifndef")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("DISABLE_FEATURE")])]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 执行某些代码")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("endif")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ol",{attrs:{start:"4"}},[t("li",[t("strong",[s._v("包含其他文件：")])])]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("include")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"common_functions.glsl"')])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("在"),t("code",[s._v("common_functions.glsl")]),s._v("文件中定义通用函数，然后在当前着色器中使用这些函数。")]),s._v(" "),t("ol",{attrs:{start:"5"}},[t("li",[t("strong",[s._v("版本指令：")])])]),s._v(" "),t("div",{staticClass:"language-glsl line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-glsl"}},[t("code",[t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),t("span",{pre:!0,attrs:{class:"token directive keyword"}},[s._v("version")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("330")])])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("指定GLSL的版本。")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据类型"}},[s._v("#")]),s._v(" 数据类型")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("数据类型")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("void")])]),s._v(" "),t("td",[s._v("仅用于无返回值函数。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("bool")])]),s._v(" "),t("td",[s._v("布尔数据类型，表示真或假。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("bvec2")]),s._v(", "),t("code",[s._v("bvec3")]),s._v(", "),t("code",[s._v("bvec4")])]),s._v(" "),t("td",[s._v("由2、3或4个布尔分量组成的布尔向量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("int")])]),s._v(" "),t("td",[s._v("有符号标量整数。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("ivec2")]),s._v(", "),t("code",[s._v("ivec3")]),s._v(", "),t("code",[s._v("ivec4")])]),s._v(" "),t("td",[s._v("由2、3或4个有符号整数组成的向量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("uint")])]),s._v(" "),t("td",[s._v("无符号标量整数；不能包含负数。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("uvec2")]),s._v(", "),t("code",[s._v("uvec3")]),s._v(", "),t("code",[s._v("uvec4")])]),s._v(" "),t("td",[s._v("由2、3或4个无符号整数组成的向量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("float")])]),s._v(" "),t("td",[s._v("浮点数标量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("vec2")]),s._v(", "),t("code",[s._v("vec3")]),s._v(", "),t("code",[s._v("vec4")])]),s._v(" "),t("td",[s._v("由2、3或4个浮点数值组成的向量。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("mat2")]),s._v(", "),t("code",[s._v("mat3")]),s._v(", "),t("code",[s._v("mat4")])]),s._v(" "),t("td",[s._v("列主序2x2、3x3或4x4矩阵。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sampler2D")])]),s._v(" "),t("td",[s._v("绑定2D纹理的采样器类型，按浮点数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("isampler2D")])]),s._v(" "),t("td",[s._v("绑定2D纹理的采样器类型，按有符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("usampler2D")])]),s._v(" "),t("td",[s._v("绑定2D纹理的采样器类型，按无符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sampler2DArray")])]),s._v(" "),t("td",[s._v("绑定2D纹理数组的采样器类型，按浮点数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("isampler2DArray")])]),s._v(" "),t("td",[s._v("绑定2D纹理数组的采样器类型，按有符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("usampler2DArray")])]),s._v(" "),t("td",[s._v("绑定2D纹理数组的采样器类型，按无符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("sampler3D")])]),s._v(" "),t("td",[s._v("绑定3D纹理的采样器类型，按浮点数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("isampler3D")])]),s._v(" "),t("td",[s._v("绑定3D纹理的采样器类型，按有符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("usampler3D")])]),s._v(" "),t("td",[s._v("绑定3D纹理的采样器类型，按无符号整数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("samplerCube")])]),s._v(" "),t("td",[s._v("绑定立方体贴图的采样器类型，按浮点数读取。")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("samplerCubeArray")])]),s._v(" "),t("td",[s._v("绑定立方体贴图数组的采样器类型，按浮点数读取。")])])])]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"定义使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义使用"}},[s._v("#")]),s._v(" 定义使用")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("bool isTrue "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 布尔变量，值为真")]),s._v("\nbool isFalse "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("                "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 布尔变量，值为假")]),s._v("\n\nbvec2 boolVector2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bvec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2维布尔向量")]),s._v("\nbvec3 boolVector3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bvec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3维布尔向量")]),s._v("\nbvec4 boolVector4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bvec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4维布尔向量")]),s._v("\n\nint integerNumber "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("               "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 有符号整数")]),s._v("\n\nivec2 intVector2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ivec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2维有符号整数向量")]),s._v("\nivec3 intVector3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ivec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3维有符号整数向量")]),s._v("\nivec4 intVector4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ivec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4维有符号整数向量")]),s._v("\n\nuint unsignedInteger "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 123u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("          "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 无符号整数")]),s._v("\n\nuvec2 unsignedIntVector2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uvec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("10u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 11u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("       "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2维无符号整数向量")]),s._v("\nuvec3 unsignedIntVector3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uvec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("12u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 13u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 14u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3维无符号整数向量")]),s._v("\nuvec4 unsignedIntVector4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("uvec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("15u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 16u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 17u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" 18u"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4维无符号整数向量")]),s._v("\n\nfloat floatingPointNumber "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 浮点数")]),s._v("\n\nvec2 floatVector2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2维浮点数向量")]),s._v("\nvec3 floatVector3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3维浮点数向量")]),s._v("\nvec4 floatVector4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4维浮点数向量")]),s._v("\n\nmat2 matrix2x2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 2x2矩阵")]),s._v("\nmat3 matrix3x3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 3x3矩阵")]),s._v("\nmat4 matrix4x4 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("6.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("13.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("15.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 4x4矩阵")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 纹理采样器通常在着色器头部定义，并在外部进行绑定。")]),s._v("\nsampler2D textureSampler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 其他类型的纹理采样器，用于2D数组、3D纹理和立方体贴图。")]),s._v("\nsampler2DArray textureArraySampler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsampler3D texture3DSampler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nsamplerCube textureCubeSampler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br")])]),t("hr"),s._v(" "),t("h3",{attrs:{id:"嵌套使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嵌套使用"}},[s._v("#")]),s._v(" 嵌套使用")]),s._v(" "),t("blockquote",[t("p",[s._v("嵌套使用时只要提供的参数数量和类型本身的参数数量相同即可")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// The required amount of scalars")]),s._v("\nvec4 a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Complementary vectors and/or scalars")]),s._v("\nvec4 a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nvec4 a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// A single scalar for the whole vector")]),s._v("\nvec4 a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmat2 m2 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmat3 m3 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmat4 identity "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("mat4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("vec4 a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vec4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nvec3 b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rgb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Creates a vec3 with vec4 components.")]),s._v("\nvec3 b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ggg"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Also valid; creates a vec3 and fills it with a single vec4 component.")]),s._v("\nvec3 b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bgr"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// "b" will be vec3(2.0, 1.0, 0.0).')]),s._v("\nvec3 b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xyz"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Also rgba, xyzw are equivalent.")]),s._v("\nvec3 b "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// And stpq (for texture coordinates).")]),s._v("\nfloat c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("w"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Invalid, because "w" is not present in vec3 b.')]),s._v("\nvec3 c "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xrt"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Invalid, mixing different styles is forbidden.")]),s._v("\nb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rrr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rgb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Invalid, assignment with duplication.")]),s._v("\nb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bgr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rgb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('// Valid assignment. "b"\'s "blue" component will be "a"\'s "red" and vice versa.')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("hr"),s._v(" "),t("h3",{attrs:{id:"关键字"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关键字"}},[s._v("#")]),s._v(" 关键字")]),s._v(" "),t("h4",{attrs:{id:"varying插值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#varying插值"}},[s._v("#")]),s._v(" varying插值")]),s._v(" "),t("p",[t("code",[s._v("varying")]),s._v(" 是一个关键字，用于在着色器之间传递数据。它允许在顶点着色器中计算的数据在片段着色器中进行插值，以便在片段级别获得更平滑的效果。")]),s._v(" "),t("p",[s._v("具体来说，当你在顶点着色器中计算了某些值（如颜色、法线、纹理坐标等），并且你希望在片段着色器中使用这些值时，你可以将它们标记为"),t("code",[s._v("varying")]),s._v("。这使得这些值在顶点着色器输出和片段着色器输入之间进行插值，以便在图形的不同部分获得平滑的过渡效果。")]),s._v(" "),t("p",[s._v(':::note{title="通俗来讲"}\n当谈到图形渲染中的'),t("code",[s._v("varying")]),s._v("时，你可以将其想象成一种在图形的不同部分之间传递信息的方式。让我们用一个简单的比喻来解释：")]),s._v(" "),t("p",[t("strong",[s._v("比喻：舞台上的光影")])]),s._v(" "),t("p",[s._v("想象一场舞台表演，舞者们穿着不同颜色的服装，在舞台上移动。舞台的两侧有两个灯光，它们的颜色分别是红色和蓝色。舞者在舞台上移动时，他们的颜色会根据他们的位置在红色和蓝色之间过渡。")]),s._v(" "),t("p",[s._v("在这里：")]),s._v(" "),t("ul",[t("li",[s._v("舞者就是图形中的顶点。")]),s._v(" "),t("li",[s._v("他们穿着的服装颜色就是在顶点着色器中定义的"),t("code",[s._v("varying")]),s._v("变量。")]),s._v(" "),t("li",[s._v("舞台两侧的灯光颜色就是片段着色器中最终使用的颜色。")])]),s._v(" "),t("p",[t("code",[s._v("varying")]),s._v("就像是舞者服装的颜色，它在顶点着色器中设置，并且系统会在舞台上的不同位置插值这些颜色，最终影响到整个舞台上的灯光颜色。")]),s._v(" "),t("p",[s._v("因此，"),t("code",[s._v("varying")]),s._v("在图形渲染中是一种在不同图形部分之间传递信息的机制，使得颜色、法线等在不同部分之间平滑过渡。\n:::")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[s._v("shader_type spatial"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nvarying vec3 some_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vertex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    some_color "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" NORMAL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在顶点着色器中赋值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fragment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    ALBEDO "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" some_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在片段着色器中拿到的some_color是进行平滑过渡后的值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// varying 修饰的变量不可以在 普通函数或者灯光着色器中赋值")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("foo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    some_color "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" NORMAL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Error.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("light")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    some_color "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" NORMAL"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Error too.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("p",[s._v("当涉及到 Godot 的着色器语言时，一个着色器通常会经历多个阶段，其中至少包括 "),t("code",[s._v("vertex")]),s._v(" 和 "),t("code",[s._v("fragment")]),s._v(" 阶段。")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[s._v("着色器阶段：")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("vertex")]),s._v(" 阶段处理 3D 模型的每个顶点，而 "),t("code",[s._v("fragment")]),s._v(" 阶段处理屏幕上的每个像素。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("Varying 变量：")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("varying")]),s._v(" 关键字用于声明一个在 "),t("code",[s._v("vertex")]),s._v(" 阶段的顶点之间进行插值的变量，并在 "),t("code",[s._v("fragment")]),s._v(" 阶段使用。")]),s._v(" "),t("li",[s._v("它的值在图元表面（例如三角形）的顶点之间自动插值。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("自定义函数：")])]),s._v(" "),t("ul",[t("li",[s._v("在你的着色器中，你定义了一个名为 "),t("code",[s._v("foo")]),s._v(" 的自定义函数，并试图在其中为 "),t("code",[s._v("varying")]),s._v(" 变量 "),t("code",[s._v("test")]),s._v(" 赋值。这是不允许的，因为 "),t("code",[s._v("varying")]),s._v(" 的值是在插值过程中确定的。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("光照处理函数：")])]),s._v(" "),t("ul",[t("li",[s._v("同样地，你尝试在 "),t("code",[s._v("light")]),s._v(" 函数内为 "),t("code",[s._v("test")]),s._v(" 赋值，但出于相同的原因这是不允许的。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("正确使用方式：")])]),s._v(" "),t("ul",[t("li",[s._v("为 "),t("code",[s._v("varying")]),s._v(" 变量赋值的正确位置是在 "),t("code",[s._v("vertex")]),s._v(" 函数内。这是你可以根据顶点属性执行计算或设置值的地方。")]),s._v(" "),t("li",[s._v("然后在 "),t("code",[s._v("fragment")]),s._v(" 函数中可以使用插值后的值进行进一步的计算，例如确定像素的最终颜色。")])])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("示例更正：")])]),s._v(" "),t("ul",[t("li",[s._v("在示例的更正中，对 "),t("code",[s._v("test")]),s._v(" 的赋值是在 "),t("code",[s._v("vertex")]),s._v(" 函数内完成的，确保它发生在顶点处理阶段。")]),s._v(" "),t("li",[t("code",[s._v("test")]),s._v(" 的值然后可以在 "),t("code",[s._v("fragment")]),s._v(" 函数中使用，其中它代表了图元表面上的插值值。")])])])]),s._v(" "),t("p",[s._v("这样的结构确保了 "),t("code",[s._v("varying")]),s._v(" 值在着色器管道的 "),t("code",[s._v("vertex")]),s._v(" 和 "),t("code",[s._v("fragment")]),s._v(" 阶段之间无缝地插值。")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"插值修饰符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#插值修饰符"}},[s._v("#")]),s._v(" 插值修饰符")]),s._v(" "),t("p",[s._v("在Shader中，插值修饰符告诉计算机如何在图形的不同部分之间平滑过渡数据。这就好比你在画图时，用铅笔在两个点之间画一条线，插值修饰符就是告诉计算机如何把这条线画得更加平滑。")]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[t("code",[s._v("smooth")]),s._v("：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("描述：")]),s._v(" 默认的插值方式，就像用直尺连接两个点，线条会自然弯曲，考虑了远近透视效果。")]),s._v(" "),t("li",[t("strong",[s._v("示例：")]),s._v(" "),t("code",[s._v("varying float myValue;")]),s._v(" （默认是 smooth 插值方式）")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("flat")]),s._v("：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("描述：")]),s._v(" 不插值，就像你直接用直尺连接两个点，没有弯曲，整个区域都使用相同的值。")]),s._v(" "),t("li",[t("strong",[s._v("示例：")]),s._v(" "),t("code",[s._v("varying flat float myValue;")])])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("noperspective")]),s._v("：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("描述：")]),s._v(" 使用透视校正插值，考虑了远近透视效果，但插值时会更加平均。")]),s._v(" "),t("li",[t("strong",[s._v("示例：")]),s._v(" "),t("code",[s._v("varying noperspective vec3 myVector;")])])])])]),s._v(" "),t("p",[s._v("通过选择合适的插值修饰符，你可以让图形的渐变看起来更加自然和平滑，就像画一条漂亮的曲线一样。")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"uniform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uniform"}},[s._v("#")]),s._v(" uniform")]),s._v(" "),t("p",[s._v("在Godot引擎中，使用和设置 "),t("code",[s._v("uniforms")]),s._v(" 主要涉及GDScript或其他支持的脚本语言。以下是在Godot中使用和设置 "),t("code",[s._v("uniforms")]),s._v(" 的一般步骤：")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("在Shader中声明Uniforms：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在你的Shader中，使用 "),t("code",[s._v("uniform")]),s._v(" 关键字声明你希望在应用程序中设置的变量。例如：")]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("shader_type canvas_item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nuniform vec4 custom_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 一个表示颜色的 uniform 变量\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("着色器代码编译之后， 使用"),t("code",[s._v("uniform")]),s._v("定义的变量就会出现在"),t("code",[s._v("Shader Parameters")]),s._v("中")])])])])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://files-1306865739.cos.ap-beijing.myqcloud.com/202405161454495.webp",alt:"image.png"}})]),s._v(" "),t("ol",{attrs:{start:"2"}},[t("li",[t("p",[t("strong",[s._v("在脚本中设置Uniforms的值：")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在GDScript或其他脚本中，你可以通过 "),t("code",[s._v("set_shader_param")]),s._v(" 方法设置Shader中的 "),t("code",[s._v("uniforms")]),s._v(" 的值。例如：")]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Node2D")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("_ready")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取ShaderMaterial")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" material "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ShaderMaterial"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("new")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    material"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("shader "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("preload")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"res://path/to/your_shader.shader"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置uniform变量custom_color的值")]),s._v("\n    material"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("set_shader_param")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"custom_color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置为红色")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 应用ShaderMaterial到节点")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("self")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("material "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" material\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])]),s._v(" "),t("p",[s._v("这样，你就可以在运行时动态设置着色器中 "),t("code",[s._v("uniforms")]),s._v(" 的值。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("在Shader中使用Uniforms：")])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("在Shader中，你可以像使用其他变量一样使用 "),t("code",[s._v("uniforms")]),s._v("。例如，在片段着色器中使用 "),t("code",[s._v("custom_color")]),s._v("：")]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("shader_type canvas_item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nuniform vec4 custom_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nvoid "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fragment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("COLOR")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" custom_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 使用uniform变量设置颜色\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])])])]),s._v(" "),t("p",[s._v("通过这种方式，你可以通过脚本动态地控制Shader的外观，而无需在每次更改时重新编译Shader。这在动态调整图形外观、实现特效等方面非常有用。")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"全局-uniform"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局-uniform"}},[s._v("#")]),s._v(" 全局 uniform")]),s._v(" "),t("p",[s._v("在项目设置中添加\n"),t("img",{attrs:{src:"https://files-1306865739.cos.ap-beijing.myqcloud.com/202405161454496.webp",alt:"image.png"}}),s._v("\n在任意着色器中使用")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[s._v("shader_type canvas_item"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nglobal uniform vec4 my_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fragment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    COLOR "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" my_color"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rgb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("在脚本中使用")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[s._v("RenderingServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("global_shader_parameter_set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nRenderingServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("global_shader_parameter_add")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" RenderingServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("GLOBAL_VAR_TYPE_COLOR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("Color")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nRenderingServer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("global_shader_parameter_remove")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"my_color"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v(':::warning{title="注意"}\n全局uniform的访问非常消耗性能，尽量减少使用，或者在onread阶段完成存取\n:::')]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"uniform的hints"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uniform的hints"}},[s._v("#")]),s._v(" uniform的hints")]),s._v(" "),t("p",[s._v("变量 冒号后面的为hit")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("shader_type spatial;\n\nuniform vec4 color : source_color;\nuniform float amount : hint_range(0, 1);\nuniform vec4 other_color : source_color = vec4(1.0);\nuniform sampler2D image : source_color;\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("p",[s._v("hint提供了更多的信息，使得编辑器和引擎在处理这些变量时能够更好地理解它们的预期用途。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("提示")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("vec3, vec4")]),s._v(" "),t("td",[s._v("source_color")]),s._v(" "),t("td",[s._v("用作颜色。")])]),s._v(" "),t("tr",[t("td",[s._v("int, float")]),s._v(" "),t("td",[s._v("hint_range(min, max[, step])")]),s._v(" "),t("td",[s._v("限制在指定范围内的值（带有 min/max/step）。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("source_color")]),s._v(" "),t("td",[s._v("用作反照率颜色。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_normal")]),s._v(" "),t("td",[s._v("用作法线贴图。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_default_white")]),s._v(" "),t("td",[s._v("作为值或反照率颜色，如果未指定值，则默认为不透明白色。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_default_black")]),s._v(" "),t("td",[s._v("作为值或反照率颜色，如果未指定值，则默认为不透明黑色。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_default_transparent")]),s._v(" "),t("td",[s._v("作为值或反照率颜色，如果未指定值，则默认为透明黑色。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_anisotropy")]),s._v(" "),t("td",[s._v("作为流动图，如果未指定值，则默认为右侧方向。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_roughness[_r, _g, _b, _a, _normal, _gray]")]),s._v(" "),t("td",[s._v("用于在导入时限制粗糙度，尝试减少高光锯齿。_normal 是指导粗糙度限制器的法线图，粗糙度在具有高频细节的区域增加。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("filter[_nearest, _linear][_mipmap][_anisotropic]")]),s._v(" "),t("td",[s._v("启用指定的纹理过滤。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("repeat[_enable, _disable]")]),s._v(" "),t("td",[s._v("启用或禁用纹理重复。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_screen_texture")]),s._v(" "),t("td",[s._v("纹理是屏幕纹理。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_depth_texture")]),s._v(" "),t("td",[s._v("纹理是深度纹理。")])]),s._v(" "),t("tr",[t("td",[s._v("sampler2D")]),s._v(" "),t("td",[s._v("hint_normal_roughness_texture")]),s._v(" "),t("td",[s._v("纹理是法线粗糙度纹理（仅在Forward+中支持）。")])])])]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"流程控制"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程控制"}},[s._v("#")]),s._v(" 流程控制")]),s._v(" "),t("blockquote",[t("p",[s._v("和大部分语言一样")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `if` 和 `else`。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("条件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 三元运算符。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这是一个像 `if`/`else` 一样的表达式，并返回一个值。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 如果 `条件` 为 `true`，`结果` 将为 `9`。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 否则，`结果` 将为 `5`。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" 结果 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" 条件 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `switch`。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("switch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("i"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `i` 应为有符号整数表达式。")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `break` 或 `return` 以避免运行下一个 `case`。")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 落入（没有 `break` 或 `return`）：将运行下一个 `case`。")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("case")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 仅在以上没有匹配的 `case` 时运行。可选。")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("break")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `for` 循环。最适用于已知要提前迭代的元素数量的情况。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" i"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("++")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `while` 循环。最适用于不知道要提前迭代的元素数量的情况。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("条件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// `do while`。与 `while` 类似，但即使 `条件` 从不评估为 `true`，它也至少运行一次。")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("do")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("条件"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数"}},[s._v("#")]),s._v(" 函数")]),s._v(" "),t("p",[s._v(':::tip{title="提示"}\n不支持函数重载\n:::')]),s._v(" "),t("hr"),s._v(" "),t("h3",{attrs:{id:"函数参数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#函数参数"}},[s._v("#")]),s._v(" 函数参数")]),s._v(" "),t("p",[s._v("可以有特殊的修饰符：")]),s._v(" "),t("p",[s._v("in: 表示参数仅用于读取（默认）。")]),s._v(" "),t("p",[s._v("out: 表示参数仅用于写入。")]),s._v(" "),t("p",[s._v("inout: 表示参数完全通过引用传递。")]),s._v(" "),t("p",[s._v("const: 表示参数是常量，不能更改，可以与in修饰符组合使用。")]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sum2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" inout "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \\\\ 这里的result就是引用\n    result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" a "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" b"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h3",{attrs:{id:"着色器函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#着色器函数"}},[s._v("#")]),s._v(" 着色器函数")]),s._v(" "),t("hr"),s._v(" "),t("h4",{attrs:{id:"_1-vertex-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-vertex-函数"}},[s._v("#")]),s._v(" 1. vertex 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 处理顶点数据，通常涉及顶点坐标的变换等。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收顶点的输入数据，如坐标、法线、颜色等。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出变换后的顶点坐标以及其他可能用于后续阶段的数据。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vertex")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 顶点着色器代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_2-fragment-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-fragment-函数"}},[s._v("#")]),s._v(" 2. fragment 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 处理片段数据，通常涉及颜色计算、纹理映射等操作。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收来自顶点着色器的输出（如变换后的顶点坐标、插值的颜色等），以及与片段相关的数据，例如纹理坐标。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出最终的颜色值，该颜色值将用于渲染图形。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fragment")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 片段着色器代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_3-light-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-light-函数"}},[s._v("#")]),s._v(" 3. light 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 处理光照计算。通常用于光照着色器，用于计算光照效果。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收来自顶点着色器和片段着色器的输出，以及与光照相关的数据。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出光照计算后的颜色值。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("light")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 光照着色器代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_4-unshaded-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-unshaded-函数"}},[s._v("#")]),s._v(" 4. unshaded 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 用于关闭默认的光照计算，使物体不受光照影响。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收来自顶点着色器和片段着色器的输出。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出不受光照影响的颜色值。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("unshaded")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 关闭光照的代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_5-particles-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-particles-函数"}},[s._v("#")]),s._v(" 5. particles 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 处理粒子系统的着色器逻辑。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收来自顶点着色器和片段着色器的输出，以及与粒子系统相关的数据。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出粒子系统的渲染效果。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("particles")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 粒子系统着色器代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("hr"),s._v(" "),t("h4",{attrs:{id:"_6-canvas-item-函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6-canvas-item-函数"}},[s._v("#")]),s._v(" 6. canvas_item 函数：")]),s._v(" "),t("ul",[t("li",[t("p",[t("strong",[s._v("作用：")]),s._v(" 处理 2D 画布中项（canvas item）的着色器逻辑。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输入：")]),s._v(" 接收来自顶点着色器和片段着色器的输出，以及与 2D 画布项相关的数据。")])]),s._v(" "),t("li",[t("p",[t("strong",[s._v("输出：")]),s._v(" 输出 2D 画布项的渲染效果。")])])]),s._v(" "),t("div",{staticClass:"language-gdscript line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-gdscript"}},[t("code",[s._v("void "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("canvas_item")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" 2D 画布项着色器代码"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v(':::note{title="使用场景"}\n在Godot引擎中，这些着色器函数的调用频率取决于它们的类型以及场景中的使用方式。')]),s._v(" "),t("ol",[t("li",[t("p",[t("strong",[t("code",[s._v("vertex")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个顶点，该函数被调用一次。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于处理每个顶点的变换和计算。")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("fragment")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个像素（片段），该函数被调用一次。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于处理每个像素的颜色计算、纹理映射等。")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("light")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个像素，该函数被调用一次。通常与光照着色器相关。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于处理每个像素的光照计算。")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("unshaded")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个像素，该函数被调用一次。通常用于关闭默认的光照计算。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于不考虑光照的简单着色。")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("particles")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个像素（片段），该函数被调用一次。通常用于粒子系统。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于处理每个像素的粒子系统效果。")])])]),s._v(" "),t("li",[t("p",[t("strong",[t("code",[s._v("canvas_item")]),s._v(" 函数：")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("调用频率：")]),s._v(" 对于每个像素（片段），该函数被调用一次。通常用于处理 2D 画布项的着色。")]),s._v(" "),t("li",[t("strong",[s._v("典型用途：")]),s._v(" 用于处理每个像素的 2D 画布项效果。")])])])]),s._v(" "),t("p",[s._v("了解这些调用频率有助于优化着色器代码。例如，"),t("code",[s._v("vertex")]),s._v(" 函数在处理每个顶点时调用，因此它的计算量通常较小。相比之下，"),t("code",[s._v("fragment")]),s._v(" 函数在处理每个像素时调用，因此应谨慎处理，以避免过多计算导致性能问题。\n:::")])])}),[],!1,null,null,null);t.default=e.exports}}]);